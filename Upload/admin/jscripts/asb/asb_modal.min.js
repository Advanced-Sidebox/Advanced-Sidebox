var ASB=(function(a){function submit(e){var form,select,selects,option,options,newElement,s,o;Event.stop(e);this.showOverlayLoader();form=$(this.options.formId);selects=$$('#'+this.options.formId+' select');for(s=0;s<selects.length;s++){select=selects[s];if(!select.multiple){continue;}
options=select.childElements();for(o=0;o<options.length;o++){option=options[o];if(option.nodeName!='OPTION'||!option.selected){continue;}
form.insert(new Element('input',{type:'hidden',name:select.getAttribute('name'),value:option.value}));}
select.remove();}
var postData=form.serialize();new Ajax.Request(this.options.url,{method:'post',postBody:postData+'&ajax=1&time='+new Date().getTime(),onComplete:this.onComplete.bind(this),});}
function displayModal($super,data){if(data=='<error>asb</error>'){window.location="./index.php?module=config-asb";return;}
$super(data);}
a.Modal=Class.create(MyModal,{submit:submit,displayModal:displayModal,});return a;})(ASB||{});